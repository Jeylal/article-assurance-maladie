library(readr)
ts_x_04_02_02_01 <- read_csv("C:/Users/celal/Downloads/ts-x-04.02.02.01.csv")
View(ts_x_04_02_02_01)
# em algorith test
library(tidyverse)
x1 = rnorm(500, mean = 3, sd = 1.5)
x2 = rnorm(500, mean = 2.5, sd = 1)
data = cbind(x1, x2)
view(data)
data = rbind(x1, x2)
view(data)
data = c(x1, x2)
view(data)
x1_mean_guess1 = runif(1, 0, 6)
x2_mean_guess1 = runif(1, 0, 6)
x1_sd_guess1 = runif(1, 0, 3)
x2_sd_guess1 = runif(1, 0, 3)
dnorm(x[1], mean = x1_mean_guess1, sd = x1_sd_guess1)
x = c(x1, x2)
dnorm(x[1], mean = x1_mean_guess1, sd = x1_sd_guess1)
dnorm(x[1], mean = x2_mean_guess1, sd = x2_sd_guess1)
dnorm(x[1], mean = x1_mean_guess1, sd = x1_sd_guess1)
dnorm(x[1], mean = x2_mean_guess1, sd = x2_sd_guess1)
# prior probabilities
px1 = 0.5
px2 = 0.5
bi = dnorm(x[1], mean = x1_mean_guess1, sd = x1_sd_guess1) # p(xi|x1)
ai = dnorm(x[1], mean = x2_mean_guess1, sd = x2_sd_guess1) # p(xi|x2)
xi_a = dnorm(x[1], mean = x1_mean_guess1, sd = x1_sd_guess1) # p(xi|x1)
xi_b = dnorm(x[1], mean = x2_mean_guess1, sd = x2_sd_guess1) # p(xi|x2)
# prior probabilities
px1 = 0.5
px2 = 0.5
post_x1 = (xi_a * px1/(xi_a*px1 + xi_b*px2))
post_x1
post_x2 = (xi_b * px2/(xi_a*px1 + xi_b*px2))
post_x2
post_x1 + post_x2
# now, we need the posterior probabilities for each point in the dataset
n = length(x)
# now, we need the posterior probabilities for each point in the dataset
n = length(x)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
post_x2
# now, we need the posterior probabilities for each point in the dataset
n = length(x)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean_guess1, sd = x1_sd_guess1)
xi_b[i] = dnorm(x[i], mean = x2_mean_guess1, sd = x2_sd_guess1)
post_x1[i] = (xi_a[i] * px1/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = (xi_b[i] * px2/(xi_a[i]*px1 + xi_b[i]*px2))
}
xi_a
post_x1
sum(xi_a*post_x1)
sum(xi_a*post_x1)/sum(xi_a)
?vars
x-x1_mean_guess1
sum(xi_a*((x-x1_mean_guess1)))
new_sd_a = sum(xi_a*((x-x1_mean_guess1)))/sum(xi_a)
new_sd_a
x1_sd_guess1
new_mean_b = sum(xi_b*post_xb)/sum(xi_b)
new_mean_b = sum(xi_b*post_b)/sum(xi_b)
new_mean_b = sum(xi_b*post_x2)/sum(xi_b)
new_mean_b
x2_mean_guess1
new_mean_b = sum(xi_b*x)/sum(xi_b)
new_mean_b
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sum(post_x2*((x-x1_mean_guess1)))/sum(post_x2)
new_mean_a
x1_mean_guess1
new_sd_a
x1_sd_guess1
sum(post_x2)
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sum(post_x1*((x-x1_mean_guess1)))/sum(post_x1)
new_mean_b = sum(post_x2*x)/sum(post_x2)
new_sd_b = sum(post_x2*((x-x1_mean_guess2)))/sum(post_x2)
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sum(post_x1*((x-x1_mean_guess1)))/sum(post_x1)
new_mean_b = sum(post_x2*x)/sum(post_x2)
new_sd_b = sum(post_x2*((x-x2_mean_guess1)))/sum(post_x2)
new_sd_b
new_sd_a = sum(post_x1*((x-x1_mean_guess1)^2))/sum(post_x1)
new_sd_a
new_sd_a = sqrt(sum(post_x1*((x-x1_mean_guess1)^2))/sum(post_x1))
new_sd_a
x1_sd_guess1
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sqrt(sum(post_x1*((x-x1_mean_guess1)^2))/sum(post_x1))
new_mean_b = sum(post_x2*x)/sum(post_x2)
new_sd_b = sum(post_x2*((x-x2_mean_guess1)^2))/sum(post_x2)
new_sd_b
x2_sd_guess1
iter = 200
iter = 200
n = length(x)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (i in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean_guess1, sd = x1_sd_guess1)
xi_b[i] = dnorm(x[i], mean = x2_mean_guess1, sd = x2_sd_guess1)
post_x1[i] = (xi_a[i] * px1/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = (xi_b[i] * px2/(xi_a[i]*px1 + xi_b[i]*px2))
}
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sqrt(sum(post_x1*((x-x1_mean_guess1)^2))/sum(post_x1))
new_mean_b = sum(post_x2*x)/sum(post_x2)
new_sd_b = sum(post_x2*((x-x2_mean_guess1)^2))/sum(post_x2)
}
new_sd_b
new_mean_b
new_mean_a
iter = 2000
n = length(x)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
x1_mean_guess1 = runif(1, 0, 6)
x2_mean_guess1 = runif(1, 0, 6)
x1_sd_guess1 = runif(1, 0, 3)
x2_sd_guess1 = runif(1, 0, 3)
for (i in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean_guess1, sd = x1_sd_guess1)
xi_b[i] = dnorm(x[i], mean = x2_mean_guess1, sd = x2_sd_guess1)
post_x1[i] = (xi_a[i] * px1/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = (xi_b[i] * px2/(xi_a[i]*px1 + xi_b[i]*px2))
}
new_mean_a = sum(post_x1*x)/sum(post_x1)
new_sd_a = sqrt(sum(post_x1*((x-x1_mean_guess1)^2))/sum(post_x1))
new_mean_b = sum(post_x2*x)/sum(post_x2)
new_sd_b = sum(post_x2*((x-x2_mean_guess1)^2))/sum(post_x2)
}
new_mean_b
new_sd_b
new_mean_a
iter = 2000
n = length(x)
x1_mean = runif(1, 0, 6)
x2_mean= runif(1, 0, 6)
x1_sd = runif(1, 0, 3)
x2_sd = runif(1, 0, 3)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (i in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean, sd = x1_sd)
xi_b[i] = dnorm(x[i], mean = x2_mean, sd = x2_sd)
post_x1[i] = (xi_a[i] * px1/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = (xi_b[i] * px2/(xi_a[i]*px1 + xi_b[i]*px2))
}
x1_mean = sum(post_x1*x)/sum(post_x1)
x1_sd = sqrt(sum(post_x1*((x-x1_mean)^2))/sum(post_x1))
x2_mean = sum(post_x2*x)/sum(post_x2)
x2_sd = sum(post_x2*((x-x2_mean)^2))/sum(post_x2)
}
x2_sd
x2_mean
x1_mean
post_x1
post_x1
iter = 2000
n = length(x)
x1_mean = runif(1, 0, 6)
x2_mean= runif(1, 0, 6)
x1_sd = runif(1, 0, 3)
x2_sd = runif(1, 0, 3)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (i in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean, sd = x1_sd)
xi_b[i] = dnorm(x[i], mean = x2_mean, sd = x2_sd)
post_x1[i] = ((xi_a[i] * px1)/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = ((xi_b[i] * px2)/(xi_a[i]*px1 + xi_b[i]*px2))
}
x1_mean = sum(post_x1*x)/sum(post_x1)
x1_sd = sqrt(sum(post_x1*((x-x1_mean)^2))/sum(post_x1))
x2_mean = sum(post_x2*x)/sum(post_x2)
x2_sd = sum(post_x2*((x-x2_mean)^2))/sum(post_x2)
}
x2_sd
x2_mean
iter = 2000
n = length(x)
x1_mean = runif(1, 0, 6)
x2_mean= runif(1, 0, 6)
x1_sd = runif(1, 0, 3)
x2_sd = runif(1, 0, 3)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (j in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean, sd = x1_sd)
xi_b[i] = dnorm(x[i], mean = x2_mean, sd = x2_sd)
post_x1[i] = ((xi_a[i] * px1)/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = ((xi_b[i] * px2)/(xi_a[i]*px1 + xi_b[i]*px2))
}
x1_mean = sum(post_x1*x)/sum(post_x1)
x1_sd = sqrt(sum(post_x1*((x-x1_mean)^2))/sum(post_x1))
x2_mean = sum(post_x2*x)/sum(post_x2)
x2_sd = sqrt(sum(post_x2*((x-x2_mean)^2))/sum(post_x2))
px1 = mean(post_x1)
px2 = 1 - px1
}
x1_mean
x1_sd
x2_mean
x2_sd
iter = 2500
n = length(x)
x1_mean = runif(1, 0, 6)
x2_mean= runif(1, 0, 6)
x1_sd = runif(1, 0, 3)
x2_sd = runif(1, 0, 3)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (j in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean, sd = x1_sd)
xi_b[i] = dnorm(x[i], mean = x2_mean, sd = x2_sd)
post_x1[i] = ((xi_a[i] * px1)/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = ((xi_b[i] * px2)/(xi_a[i]*px1 + xi_b[i]*px2))
}
x1_mean = sum(post_x1*x)/sum(post_x1)
x1_sd = sqrt(sum(post_x1*((x-x1_mean)^2))/sum(post_x1))
x2_mean = sum(post_x2*x)/sum(post_x2)
x2_sd = sqrt(sum(post_x2*((x-x2_mean)^2))/sum(post_x2))
px1 = mean(post_x1)
px2 = mean(post_x2)
}
px2
px1
x1_mean
x1_sd
iter = 2500
n = length(x)
x1_mean = runif(1, 0, 6)
x2_mean= runif(1, 0, 6)
x1_sd = runif(1, 0, 3)
x2_sd = runif(1, 0, 3)
xi_a = rep(NA, n)
xi_b = rep(NA, n)
post_x1 = rep(NA, n)
post_x2 = rep(NA, n)
px1 = 0.5
px2 = 0.5
for (j in 1:iter) {
for (i in 1:n) {
xi_a[i] = dnorm(x[i], mean = x1_mean, sd = x1_sd)
xi_b[i] = dnorm(x[i], mean = x2_mean, sd = x2_sd)
post_x1[i] = ((xi_a[i] * px1)/(xi_a[i]*px1 + xi_b[i]*px2))
post_x2[i] = ((xi_b[i] * px2)/(xi_a[i]*px1 + xi_b[i]*px2))
}
x1_mean = sum(post_x1*x)/sum(post_x1)
x1_sd = sqrt(sum(post_x1*((x-x1_mean)^2))/sum(post_x1))
x2_mean = sum(post_x2*x)/sum(post_x2)
x2_sd = sqrt(sum(post_x2*((x-x2_mean)^2))/sum(post_x2))
px1 = mean(post_x1)
px2 = 1 - px1
}
px1
px2
x2_mean
x2_sd
library(readr)
prc_hicp_apc_page_linear <- read_csv("C:/Users/celal/Downloads/prc_hicp_apc_page_linear.csv/prc_hicp_apc_page_linear.csv")
View(prc_hicp_apc_page_linear)
library(readr)
prc_hicp_apc_custom_18935854_linear <- read_csv("C:/Users/celal/Downloads/prc_hicp_apc__custom_18935854_linear.csv/prc_hicp_apc__custom_18935854_linear.csv")
View(prc_hicp_apc_custom_18935854_linear)
data = prc_hicp_apc_custom_18935854_linear
library(tidyverse)
View(data)
data2 = data %>%
filter(OBS_VALUE > 0)
View(data2)
data2 = data %>%
filter(OBS_VALUE > 0 & geo == c("Switzerland"))
View(data2)
install.packages("iotables")
library(iotables)
library(tidyverse)
germany_io <- iotable_get(labelling = "iotables")
View(germany_io)
input_flow <- input_flow_get(
data_table = germany_io,
households = FALSE
)
View(input_flow)
de_output <- primary_input_get(germany_io, "output")
print(de_output[c(1:4)])
View(de_output)
View(germany_io)
load("C:/Users/celal/Downloads/IOTs_RData/NATIOdomimp.rdata")
library(readr)
CHE2022ttl <- read_csv("C:/Users/celal/Downloads/IOTs_NATIOTTL/NATIOTTL/CHE2022ttl.csv")
View(CHE2022ttl)
library(readr)
CHE2003dom <- read_csv("C:/Users/celal/Downloads/IOTs_NATIODOMIMP/NATIODOMIMP/CHE2003dom.csv")
View(CHE2003dom)
View(CHE2022ttl)
install.packages('MSwM')
library(tidyverse)
library(MSwM)
data("energy")
View(energy)
model=lm(Price~Oil+Gas+Coal+EurDol+Ibex35+Demand,energy)
summary(model)
msm_model = msmFit(model, k = 2, sw = rep(TRUE, 8))
summary(msm_model)
plot(energy$Price)
View(energy)
plot(energy$Price, type = "l")
plot(msmResid(msm_model))
plot(msm_model)
plot(msm_model)
plot(msm_model)
plotReg(msm_model)
plotReg(msm_model, regime = 2)
library(WDI)
WDIsearch('national income')
dat = WDI(indicator='NY.ADJ.NNTY.KD', country=c('CH'), start=1995, end=2024)
View(dat)
dat %>%
ggplot()+
aes(x = year, y = NY.ADJ.NNTY.KD)+
geom_line()
names(dat)
plot(dat$NY.ADJ.NNTY.KD)
plot(dat$NY.ADJ.NNTY.KD)
plot(dat$NY.ADJ.NNTY.KD)
ggplot(dat)+
aes(x = year, y = NY.ADJ.NNTY.KD)+
geom_line()
dat %>%
drop_na() %>%
ggplot(aes(x = year, y = NY.ADJ.NNTY.KD))+
geom_line()
View(dat)
data = dat %>%
rename('net_national_income' = NY.ADJ.NNTY.KD)
data = dat %>%
rename('net_national_income' = NY.ADJ.NNTY.KD) %>%
drop_na()
View(data)
glimpse(data)
data %>%
ggplot(aes(x = year, y = net_national_income))+
geom_line()
data %>%
ggplot(aes(x = year, y = net_national_income))+
geom_line()
data$year = as.numeric(data$year)
data %>%
ggplot(aes(x = year, y = net_national_income))+
geom_line()
data %>%
ggplot(aes(x = year, y = net_national_income))+
geom_line()
library(esquisse)
esquisser()
ggplot(data) +
aes(x = year, y = net_national_income) +
geom_line(colour = "#112446") +
theme_minimal()
library(tidyverse)
ggplot(data) +
aes(x = year, y = net_national_income) +
geom_line(colour = "#112446") +
theme_minimal()
install.packages(c("anytime", "bayesplot", "bayestestR", "bimets", "bridgesampling", "brms", "broom", "checkmate", "commonmark", "crosstalk", "curl", "data.table", "datawizard", "dbplyr", "digest", "downlit", "DT", "dtplyr", "emmeans", "evaluate", "FactoMineR", "fansi", "forcats", "future", "future.apply", "gargle", "gert", "GGally", "ggfortify", "ggplot2", "ggpubr", "ggridges", "ggsci", "ggstats", "googledrive", "googlesheets4", "gt", "haven", "hms", "insight", "labelled", "later", "listenv", "litedown", "magrittr", "marginaleffects", "modelsummary", "officer", "openssl", "parallelly", "parameters", "patchwork", "pbkrtest", "performance", "pillar", "pkgdown", "promises", "purrr", "quantmod", "quarto", "QuickJSR", "ragg", "rbibutils", "Rcpp", "RcppParallel", "readr", "reformulas", "reshape2", "rio", "rmarkdown", "rstantools", "rstatix", "rvest", "S7", "selectr", "stringr", "svglite", "testthat", "textshaping", "TH.data", "tibble", "tinytable", "tinytex", "utf8", "V8", "vroom", "xfun", "xml2"))
install.packages(c("boot", "lattice", "Matrix", "mgcv"))
install.packages(c("boot", "lattice", "Matrix", "mgcv"))
library(tidyverse)
ggplot(data) +
aes(x = year, y = net_national_income) +
geom_line(colour = "#112446") +
theme_minimal()
graphics.off()
msm_model = msmFit(model, k = 2, sw = rep(TRUE, 8))
graphics.off()
ggplot(data) +
aes(x = year, y = net_national_income) +
geom_line(colour = "#112446") +
theme_minimal()
View(data)
WDIsearch('national income')
View(data)
dat = WDI(indicator='NY.ADJ.NNTY.PC.KD', country=c('CH'), start=1995, end=2021)
data = dat %>%
rename('net_national_income' = NY.ADJ.NNTY.PC.KD) %>%
drop_na()
library(tidyverse)
ggplot(data) +
aes(x = year, y = net_national_income) +
geom_line(colour = "#112446") +
theme_minimal()
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446") +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income, Switzerland, constant 2015 US$')
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446") +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income (log), Switzerland, constant 2015 US$')
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446") +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income per capita (log), Switzerland, constant 2015 US$')
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446", size = 1) +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income per capita (log), Switzerland, constant 2015 US$')
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446", linewidth = 1) +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income per capita (log), Switzerland, constant 2015 US$')
ggplot(data) +
aes(x = year, y = log(net_national_income)) +
geom_line(colour = "#112446", linewidth = 1) +
theme_minimal()+
labs(y = "", x = '',
title = 'Adjusted net national income per capita (log), Switzerland, constant 2015 US$',
caption = "Data source: World Bank")
install.packages("eventstudyr")
library(eventstudyr)
example_data
options(scipen = 100, digits = 4)
library(tidyverse)
library(readr)
selects2023panel <- read_sav("GitHub/celalguney/posts/assurance_maladie/data/selects2023panel/2626_Selects2023_Panel_Data_v1.0.sav")
library(haven)
selects2023panel <- read_sav("GitHub/celalguney/posts/assurance_maladie/data/selects2023panel/2626_Selects2023_Panel_Data_v1.0.sav")
library(haven)
selects2023panel <- read_sav("GitHub/celalguney/posts/assurance_maladie/data/selects2023panel/2626_Selects2023_Panel_Data_v1.0.sav")
selects2023panel <- haven::read_sav("GitHub/celalguney/posts/assurance_maladie/data/selects2023panel/2626_Selects2023_Panel_Data_v1.0.sav")
install.packages("haven")
library(DIGCLASS)
library(quarto)
setwd("~/GitHub/article-assurance-maladie")
quarto_render()
