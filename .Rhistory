theme(legend.position = "bottom",
legend.title = element_blank(),
text = element_text(size = 11.6))+
guides(color = guide_legend(nrow = 2))
plot1
#ggsave("plot_ipam.jpg", plot1)
dep_quantiles <- data_final_am <- read_excel("data_final_am.xlsx",
sheet = "graphique2", skip = 3) %>%
pivot_longer(cols = -1)
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
subtitle = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")
#| echo: false
#| message: false
#| warning: false
plot1 <-
data_final_am %>%
filter(variable %in% c("indice_cout_sante_hab100", "salaire_reel100", "salaire_nominal100", "pib_reel_100", "ipam_total")) %>%
ggplot(aes(x = Year, y = value, color = variable, linetype = variable))+
geom_line(size = 1)+
labs(y = "1999 = 100",
x = "",
title = "Évolution de l'indice des primes d'assurance-maladie")+
theme_minimal()+
scale_color_discrete(labels = c("Coûts de la santé par habitants",
"Indice des primes d'assurance-maladie",
"PIB réel",
"Indice des salaires nominaux",
"Indice des salaires réels"))+
scale_linetype_discrete(labels = c("Coûts de la santé par habitants",
"Indice des primes d'assurance-maladie",
"PIB réel",
"Indice des salaires nominaux",
"Indice des salaires réels"))+
theme(legend.position = "bottom",
legend.title = element_blank(),
text = element_text(size = 11.6))+
guides(color = guide_legend(nrow = 2))
#| echo: false
#| message: false
#| warning: false
rm(list = ls())
options(scipen = 100, digits = 4)
library(tidyverse)
library(readr)
library(quarto)
votation_allegement_prime <- read_delim("data/votation_allegement_prime.csv",
delim = ";", escape_double = FALSE, trim_ws = TRUE)
#| echo: false
#| message: false
#| warning: false
library(readr)
swissvotes <- read_delim("data/swissvotes.csv",
delim = ";", escape_double = FALSE, col_types = cols(d1e3 = col_double()),
trim_ws = TRUE)
swissvotes %>%
count(d1e3)
swissvotes2 <-
swissvotes %>%
filter(d1e3 == "10.24") %>%
select(datum, titel_kurz_f, annahme, `volkja-proz`)
swissvotes3 = swissvotes %>% filter(anr == 676.0)
swissvotes4 <-
swissvotes %>%
filter(d1e3 %in% c("10.24", "10.11")) %>%
select(datum, titel_kurz_f, annahme, `volkja-proz`) %>%
rename(
Date = "datum",
Votation = "titel_kurz_f",
`Résultat` = "annahme",
`% Oui` = "volkja-proz"
)
library(gt)
swissvotes_table <-
swissvotes4 %>%
gt()
#gtsave(swissvotes_table, "table_votations.png", expand = 15)
#| echo: false
#| message: false
#| warning: false
library(readxl)
library(tidyverse)
data_final_am <- read_excel("data_final_am.xlsx",
sheet = "graphique 1") %>%
pivot_longer(
cols = 2:15,
names_to = "variable",
values_to = "value"
)
#| echo: false
#| message: false
#| warning: false
plot1 <-
data_final_am %>%
filter(variable %in% c("indice_cout_sante_hab100", "salaire_reel100", "salaire_nominal100", "pib_reel_100", "ipam_total")) %>%
ggplot(aes(x = Year, y = value, color = variable, linetype = variable))+
geom_line(size = 1)+
labs(y = "1999 = 100",
x = "",
title = "Évolution de l'indice des primes d'assurance-maladie")+
theme_minimal()+
scale_color_discrete(labels = c("Coûts de la santé par habitants",
"Indice des primes d'assurance-maladie",
"PIB réel",
"Indice des salaires nominaux",
"Indice des salaires réels"))+
scale_linetype_discrete(labels = c("Coûts de la santé par habitants",
"Indice des primes d'assurance-maladie",
"PIB réel",
"Indice des salaires nominaux",
"Indice des salaires réels"))+
theme(legend.position = "bottom",
legend.title = element_blank(),
text = element_text(size = 11.6))+
guides(color = guide_legend(nrow = 2))
plot1
#ggsave("plot_ipam.jpg", plot1)
library(viridis)
library(paletteer)
dep_quantiles <- data_final_am <- read_excel("data_final_am.xlsx",
sheet = "graphique2", skip = 3) %>%
pivot_longer(cols = -1)
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
subtitle = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")
library(cowplot)
library(gridExtra)
grid.arrange(plot1, arrangeGrob(plot2))
grid.arrange(plot1, arrangeGrob(plot2), ncol = 2)
grid.arrange(plot1, plot2, ncol = 2)
library(readxl)
subventions <- read_excel("data_final_am.xlsx",
sheet = "graphique3") %>%
pivot_longer(cols = -1)
View(subventions)
unique(subventions$name)
subventions %>%
filter(name %in% c("Suventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré"))+
ggplot(aes(x = annee, y = value, color = name))+
geom_line()
View(subventions)
subventions %>%
filter(name %in% c("Suventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()
subventions %>%
filter(name %in% c("Suventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme(legend.position = "bottom")+
theme_minimal()+
labs(x = "", y = "1996 = 100")
subventions %>%
filter(name %in% c("Suventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom")+
labs(x = "", y = "1996 = 100")
subventions %>%
filter(name %in% c("Suventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100")
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 9))
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
title = "Évolution des suventions et des primes")
grid.arrange(plot_subvention1, plot_subventions2, ncol = 2)
grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
subventions <- read_excel("data_final_am.xlsx",
sheet = "graphique3") %>%
pivot_longer(cols = -1)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 9))
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
title = "Évolution des suventions et des primes")
grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 12))
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
title = "Évolution des subventions et des primes")
grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 12))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")
grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
plot_subventions3 <- grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
ggsave("graph_subventions.png", plot_subventions3)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 11))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")
plot_subventions3 <- grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
ggsave("graph_subventions.png", plot_subventions3)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 10))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")
plot_subventions3 <- grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
ggsave("graph_subventions.png", plot_subventions3)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 9))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")
plot_subventions3 <- grid.arrange(plot_subvention1, plot_subventions2, ncol = 1)
ggsave("graph_subventions.png", plot_subventions3)
plot_subventions3 <- grid.arrange(plot_subvention1, plot_subventions2, plot2, ncol = 2)
plot_subventions3
plot_subventions3
grid.arrange(plot_subvention1, plot_subventions2, plot2, ncol = 2)
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3)
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
subtitle = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")+
theme(text = element_text(size = 9))
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")+
theme(text = element_text(size = 9))
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3)
ggsave("graph_subventions.png", plot_subventions3, scale = 2)
ggsave("graph_subventions.png", plot_subventions3, width = 20, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 30, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 35, units = "cm")
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
subtitle = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")+
theme(text = element_text(size = 11))
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 11))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")+
theme(text = element_text(size = 11))
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3, width = 40, units = "cm")
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
title = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")+
theme(text = element_text(size = 11))
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 13))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")+
theme(text = element_text(size = 13))
ggsave("graph_subventions.png", plot_subventions3, width = 50, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 50, height = 60, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 50, height = 20, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 50, height = 15, units = "cm")
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions selon la LAMal par ménage et par année en francs", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 16))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")+
theme(text = element_text(size = 16))
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3, width = 50, height = 15, units = "cm")
subventions <- read_excel("data_final_am.xlsx",
sheet = "graphique3") %>%
pivot_longer(cols = -1)
plot_subvention1 <-
subventions %>%
filter(
name %in% c("Subventions par ménage (francs)", "Taux de bénéficiaires (%)")
) %>%
ggplot(aes(x = annee, y = value))+
geom_line()+
theme_minimal()+
facet_wrap(~name, scales = "free_y")+
theme(text = element_text(size = 16))+
labs(x = "", y = "")
plot_subventions2 <-
subventions %>%
filter(name %in% c("Subventions selon la LAMal par ménage (en francs)", "Primes moyennes par assuré")) %>%
ggplot(aes(x = annee, y = value, color = name))+
geom_line()+
theme_minimal()+
theme(legend.position = "bottom",
legend.title = element_blank())+
labs(x = "", y = "1996 = 100",
subtitle = "Évolution des subventions et des primes")+
theme(text = element_text(size = 16))
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3, width = 50, height = 15, units = "cm")
ggsave("graph_subventions.png", plot_subventions3, width = 60, height = 30, units = "cm")
plot2 <-
dep_quantiles %>%
ggplot(aes(x = annee, y = value, fill = name))+
geom_col(position = "dodge", color = "white")+
theme_minimal()+
labs(x = "",
y = "Pourcentage du revenu disponible brut",
title = "Dépense des ménages suisses pour les primes de l'assurance-maladie de base")+
scale_fill_paletteer_d("nationalparkcolors::Acadia",
name = "Quintile")+
theme(text = element_text(size = 16))
plot_subventions3 <- grid.arrange(arrangeGrob(plot_subvention1, plot_subventions2, ncol = 1), plot2, ncol = 2)
ggsave("graph_subventions.png", plot_subventions3, width = 60, height = 30, units = "cm")
